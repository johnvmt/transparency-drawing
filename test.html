<!DOCTYPE html>
<html>
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />

	<!-- iOS Webapp Config -->
	<meta name="apple-mobile-web-app-capable" content="yes" />
	<meta name="apple-mobile-web-app-status-bar-style" content="black" />
	<meta name="viewport" content = "initial-scale = 1.0, user-scalable = no">

	<!-- Polyfill -->
	<script src="https://cdnjs.cloudflare.com/ajax/libs/webcomponentsjs/0.7.23/webcomponents.min.js"></script>
	<link rel="import" href="transparency-drawing.html">

</head>
<body style="margin: 0; padding: 0; overflow: hidden;">
<div style="top: 20px; left: 20px; width: 80%; height: 80%; margin: 30px; display: block; position: absolute;">
	<transparency-drawing path-stroke="#00ff00" path-stroke-width="10" id="drawing1" style="position: absolute; top: 0; left: 0; z-index: 2; width: 75%; height: 50%; border: 2px solid #000000;"></transparency-drawing>
	<transparency-drawing id="drawing2" style="position: absolute; top: 50%; left: 0; z-index: 2; width: 50%; height: 50%; border: 2px solid #000000;"></transparency-drawing>
	<a style="position: absolute; top: 500px; left: 500px; z-index: 1;" href="http://cnn.com">CNN.com</a>
</div>

<script type="text/javascript">
	var dl = document.querySelector("#drawing1");
	var dl2 = document.querySelector("#drawing2");

	window.addEventListener('WebComponentsReady', function(e) {
		// imports are loaded and elements have been registered
		//alert('Components are ready');

		dl.on('mirror', function() {
			var functionArgs = Array.prototype.slice.call(arguments);
			var functionName = functionArgs.shift();


			console.log("MIRROR", arguments);

			if(typeof dl2[functionName] == 'function')
				dl2[functionName].apply(dl2, functionArgs);
		});
	});

</script>
</body>
</html>